Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION

IF
ObjectEnteredCombat((CHARACTERGUID)_Mime, _CombatID)
AND
LLMIME_QRY_CharacterIsAMime(_Mime)
THEN
LLMIME_Mimicking_ApplyMimicking(_Mime);

IF
ObjectTurnEnded((CHARACTERGUID)_Mime)
AND
LLMIME_QRY_CharacterIsAMime(_Mime)
AND
CharacterIsInCombat(_Mime, 1)
THEN
LeaderLib_Timers_StartObjectTimer(_Mime, 250, "LLMIME_Timers_AfterTurn_ApplyMimicking_", "LLMIME_Events_RequestMimicking");

IF
ObjectTurnStarted((CHARACTERGUID)_Mime)
AND
LLMIME_QRY_CharacterIsAMime(_Mime)
THEN
LLMIME_Mimicking_RemoveMimicking(_Mime);

IF
ObjectLeftCombat((CHARACTERGUID)_Mime, _CombatID)
AND
NOT GlobalGetFlag("Mimicry_Mimic_CombatOnlyDisabled", 1)
THEN
LLMIME_Mimicking_RemoveMimicking(_Mime);

EXITSECTION

ENDEXITSECTION
ParentTargetEdge "LLMIME_10_ToggleScripts"