Version 1
SubGoalCombiner SGC_AND
INITSECTION
LeaderUpdater_Register_Mod("Mimicry", "LaughingLeader", 1,1,1,0);
LeaderUpdater_Register_ActiveGoal("Mimicry", "LaughingLeader", "LLMIME_ZZZ_Updater");
LeaderUpdater_Register_Dependency("Mimicry", "LaughingLeader", "AnimationsPlus", "LaughingLeader", 1);
KBSECTION
IF
GameStarted(_,_)
AND
LeaderUpdater_QRY_ModUpdateNeeded("Mimicry", "LaughingLeader", 1,1,1,0)
THEN
LeaderUpdater_Register_Mod("Mimicry", "LaughingLeader", 1,1,1,0);

// Fix for mimicking data not being cleared when failing
PROC
LeaderUpdater_ModUpdated("Mimicry", "LaughingLeader", (STRING)_PastVersion, (STRING)_NewVersion)
AND
LeaderLib_StringExt_QRY_VersionIsLessThan(_PastVersion, 1,0,12,0)
AND
DB_IsPlayer(_Player)
THEN
LLMIME_Mimicking_ClearMimicDataForMime(_Player);

//Possible fix for mimicking not applying
PROC
LeaderUpdater_ModUpdated("Mimicry", "LaughingLeader", (STRING)_PastVersion, (STRING)_NewVersion)
AND
LeaderLib_StringExt_QRY_VersionIsLessThan(_PastVersion, 1,0,13,0)
THEN
LeaderLog_Log("DEBUG", "[LLMIME_ZZZ_Updater:ModUpdated] Updating from (",_PastVersion,"). Recounting parties to hopefully fix mimicking not applying.");
LeaderLib_Party_CountParties();

/*
PROC
LeaderUpdater_ModUpdated("Mimicry", "LaughingLeader", (STRING)_PastVersion, (STRING)_NewVersion)
AND
DB_LeaderLib_StringExt_VersionIsLessThan(_PastVersion, 0, 9, 9, 33)
THEN
LeaderLog_Log("DEBUG", "[LLMIME:Mimicking:System] Updating settings from version [",_PastVersion,"]");

PROC
LeaderUpdater_ModUpdated("Mimicry", "LaughingLeader", (STRING)_OldVersion, "0.9.9.0")
AND
NOT DB_LeaderUpdater_Dependency("Mimicry", "LaughingLeader", "AnimationsPlus", "LaughingLeader", _)
THEN
LeaderUpdater_Register_Dependency("Mimicry", "LaughingLeader", "AnimationsPlus", "LaughingLeader", 1);
*/
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "LaughingLeader_Mimicry"
