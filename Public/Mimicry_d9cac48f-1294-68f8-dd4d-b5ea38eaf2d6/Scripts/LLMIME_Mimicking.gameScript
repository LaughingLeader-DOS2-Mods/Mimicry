INIT

EVENTS

EVENT LLMIME_Mimicking_SaveFacingDirection
VARS
	CHARACTER:_Mime
	FLOAT3:_Forward
ON
	OnCharacterEvent(_Mime, "LLMIME_Commands_SaveFacingDirection")
ACTIONS
	GetForwardDirection(_Mime, _Forward)
	SetVar(_Mime, "LLMIME_Mimicking_FacingDirection", _Forward)
	CharacterEvent(_Mime, "LLMIME_Commands_GotFacingDirection")

EVENT LLMIME_Commands_ApplyFacingDirection
VARS
	CHARACTER:_Mime
	FLOAT3:_Pos
	FLOAT3:_Forward
ON
	OnCharacterEvent(_Mime, "LLMIME_Commands_ApplyFacingDirection")
ACTIONS
IF "c1&!c2&c3"
	GetVar(_Forward, _Mime, "LLMIME_Mimicking_FacingDirection")
	IsEqual(_Forward, null)
	GetPosition(_Mime, _Pos)
THEN
	Multiply(_Forward, 2.0)
	Add(_Pos, _Forward)
ENDIF