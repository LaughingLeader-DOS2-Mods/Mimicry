INIT
	FIXEDSTRING:%EmptyFixedStr = ""
	FLOAT3:%EmptyPos = null
	CHARACTER:%NullChar = null
	EXTERN STATUS:%Passive_IsMime = LLMIME_MIME
	EXTERN STATUS:%Passive_Brawler = LLMIME_BRAWLER
	EXTERN STATUS:%Passive_Beastmaster = LLMIME_BEASTMASTER
	EXTERN STATUS:%Passive_Concentration = LLMIME_CONCENTRATION
	
EVENTS

EVENT Mime_Setup
VARS
	CHARACTER:_Mime
ON
	OnCharacterEvent(_Mime, "LLMIME_Events_InitMime")
ACTIONS
	AddStatusInfluence(_Mime, %Passive_IsMime, 99, "", 0, 1)
	AddStatusInfluence(_Mime, %Passive_Brawler, 99, "", 0, 1)
	AddStatusInfluence(_Mime, %Passive_Beastmaster, 99, "", 0, 1)
	AddStatusInfluence(_Mime, %Passive_Concentration, 99, "", 0, 1)
	SetTag(_Mime, "LLMIME_MIME")
	
EVENT Mime_Remove
VARS
	CHARACTER:_Mime
ON
	OnCharacterEvent(_Mime, "LLMIME_Events_RemoveMime")
ACTIONS
	RemoveStatusInfluence(_Mime, %Passive_IsMime, 9999999)
	RemoveStatusInfluence(_Mime, %Passive_Brawler, 9999999)
	RemoveStatusInfluence(_Mime, %Passive_Beastmaster, 9999999)
	RemoveStatusInfluence(_Mime, %Passive_Concentration, 9999999)
	ClearTag(_Mime, "LLMIME_MIME")

EVENT Debug_Item
VARS
	CHARACTER:_Char
	ITEM:_Item
ON
	OnUseItem(_Char, _Item)
ACTIONS
	CharacterItemEvent(_Char, _Item, "LLMIME_Events_OnItemUse")

EVENT Dummy_Iterate_NearbyItems
VARS
	CHARACTER:_Dummy
	FIXEDSTRING:_EventName
	FLOAT:_Radius
ON
	OnCharacterEvent(_Dummy, "LLMIME_Events_StartDummyItemIterator")
ACTIONS
IF "c1&c2"
	GetVar(_Radius, _Dummy, "LLMIME_Dummy_IterationRange")
	GetVar(_EventName, _Dummy, "LLMIME_Dummy_IterationEvent")
	//IsEqual(_EventName, %EmptyFixedStr)
THEN
	IterateItemsNear(_Dummy, _Radius, _EventName)
	SetVar(_Dummy, "LLMIME_Dummy_IterationEvent", %EmptyFixedStr)
ENDIF

EVENT Dummy_OnIterate
VARS
	ITEM:_Item
	FIXEDSTRING:_EventName
	STRING:_EventNameStr
ON
	OnIterateItem(_Item, _EventName)
ACTIONS
	Cast(_EventNameStr, _EventName)
	ItemEvent(_Item, _EventNameStr)